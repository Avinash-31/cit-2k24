{% extends 'base.html' %}
{%block content%}
{% load static %}
<style>
    * {
        padding: 0px;
        margin: 0px;
    }

    body {
        font-family: ethno;
        margin: 0;
        padding: 0;
    }

    .header {
        /* border: 2px solid rgb(75, 75, 238); */
        height: 3em;
        border-radius: 15px;
        margin: 20px;
        font-size: 2rem;

    }
    .header .logo-img{
        position: absolute;
        width: 8rem;
        height: auto;
        top: 1rem;
        left: 1rem;
    }
    .header h2 {
        font-family: ethno;
        position: absolute;
        left: 45%;
        top: 20%;
        border: 1px solid rgb(40, 113, 240);
        border-radius: 15px;
        background-color: rgba(83, 174, 219, 0.155);
    }

    .main {
        /* border: 2px solid rgb(0, 0, 128); */
        height: 20rem;
        margin: 21px;
        padding: 8px;
        border-radius: 15px;
    }

    .txtOnImage{
        position: absolute; 
        top: 45%; 
        left: 45%; 
        transform: translate(-50%, -50%); 
        color: white; 
        font-size: 1.75rem; 
        margin-left: 2.25rem;
        margin-top: -0.3rem;
        text-align: center;
        font-family: moto;
      }
    
    .headerImg{
        margin-top: -1rem;
        width: 30rem;
        height: 9rem;
      }

    .question {
        height: auto;
        /* border: 1px solid rgb(78, 255, 151); */
        padding: -26px;
        border-radius: 15px;
        color: white;
        font-family: Montserrat;
        margin: 5px;
        font-size: 20px;
    }

    .question-text h4{
        font-weight : 800;
        margin-top : 10px;
    }

    .image-section{
        width : 50%;
        margin : 0 auto;
    }

    .answer {
        display: flex;
        flex-wrap: wrap;
        border-radius: 15px;
        margin-top: 15px;
        font-size: 1.3rem;
    }

    .box p {
        width:auto;
        font-size: 24px;
        color:#fff;        
        background-color: #00236f;
        padding: 0.25rem 1rem;
        border-radius: 2rem 0 0 2rem;
        font-family: ethno;
    }

    .box {
        border: 1px solid white;
        padding: 0.2rem 0.3rem;
        border-radius: 2rem 0 0 2rem;
        position: absolute;
        height: auto;
        right: 3%;
        top: 1%;
        color: #fff;
    }

    p {
        color: #00FFFF;
        font-size: 1.3rem;
        width: 100%;
        font-family: MonsOlympia;
        letter-spacing: 2px;
        margin-bottom: 0rem !important;
    }

    .last{
        position: absolute;
        padding: 0.2rem 0.3rem;
        border-radius: 2rem 0 0 2rem;
        border: 1px solid white;
        top:-4rem;
        right: 1.3rem;
    }

    .clear-button{
        border-radius: 2rem 0 0 2rem !important;
        left: -2rem;
    }

    .content {
        position: relative;
        margin-top: 2px;
    }
    .content h2 {
        color: rgb(255, 10, 10);
        font-size: 0.8em;
        position: absolute;
        padding: 0.6em;
    }
    .content h2:nth-child(1) {
        color: transparent;
        -webkit-text-stroke: 2px #ffffff;
        letter-spacing: 4px;
    }

    {% comment %} .time-left {
        font-weight: 500;
        font-size: 30px;
        text-align: center;
        margin-top: 30px;
        color: rgb(255, 27, 27);
        background-color: white;
    } {% endcomment %}

    form div {
        margin-left: 10px;
    }

    .opt {
        display: inline-block;
        border-radius: 50px;
        transition: all 0.4s;
    }
    
    .opt input[type="radio"] {
        display: none;
    }
    
    .opt input[type="radio"]:checked ~ label {
        background-color: #0012128a;
        transition: background-color 0.4s;
    }

    .opt label {
        cursor: pointer;
        font-size: 18px;
        text-align: center;
        font-family: Montserrat;
        width:100% ;
        padding: 5px 10px;
        border-radius: 2rem;
    }

    input.clear-button {
        position: relative;
        color: white;
        font-weight: bolder;
        padding: 0.25rem 1rem;
    }

    input.clear-button:hover {
        background-color: rgba(0, 81, 122, 0.157);
    }

    .next-arrow-block {
        width: 100%;
        position: relative;
    }

    .next-arrow {
        width: auto;
        height: 50px;
        background-color: transparent;
        color: #2e6aed;
        position: absolute;
        right: 0;
        bottom: 0;
    }

    .next-arrow input {
        border: none;
        background-color: transparent;
        font-size: 28px;
        margin-top: 30px;
        padding-right: 10px;
    }

    .options-block {
        color: white;

        /* border: 1px solid yellow; */
    }

    .opt {
        border-radius: 10px;
        display: flex;
        text-align: center;
    }
    
    .container1 {
        height: auto;
    }

    .main {
        border-style: solid;
        border-radius: 20px;
        border-width: 2;
        border-color: rgb(98, 159, 228);
        height: auto;
        padding: 15px;
        margin: 10px;
    }

    .glowing-circle {

        -webkit-animation: glowing 1s ease-in-out infinite alternate;
        -moz-animation: glowing 1s ease-in-out infinite alternate;
        animation: glowing 1s ease-in-out infinite alternate;
    }

    .outerBorder {
        position: absolute;
        border: 2px solid #fff;
        justify-content: center;
        align-items: center;
        align-content: center;
        min-height: 95%;
        border-radius: 3rem;
        width: 95%;
        top: 2.5%;
        left:2.5%;
    }


    .outerBorder2 {
        position: relative;
        border: 2px solid #fff;
        border-radius: 2rem;
        justify-content: center;
        align-items: center;
        align-content: center;
        height: auto;
        margin-left: 21px;
        margin-right: 21px;
        margin-top: 17.1354px;
        margin-bottom: 17.1354px;
    }
    .outerBorder211 {
        position: relative;
        border: 2px solid #fff;
        border-radius: 2rem;
        justify-content: center;
        align-items: center;
        align-content: center;
        height: auto;
        margin-left: 21px;
        margin-right: 21px;
        margin-top: 17.1354px;
        margin-bottom: 17.1354px;
    }

    .options-box{
        display: flex;
        flex-wrap: wrap;
    }

    .options-box .opt{
        width: 45%;
    }

    .outerBorder21 {
        position: relative;
        border: 2px solid #fff;
        border-radius: 2rem;
        border-top-style: none;
        padding: 1rem 5rem;
        margin: 1rem 1rem;
        justify-content: center;
        align-items: center;
        align-content: center;
        height: auto;
    }
    
    @media (min-width: 701px) and (max-width:1004px){
        .options-box .opt{
            width: 100% !important;
            margin-left: 0px;
        }
    }
    @media (max-width: 700px) {
        .image-section {
            width: 90%;
            margin-right: auto;
            margin-left: auto;
        }
        .outerBorder21{
            padding: 1rem;
            margin: 0rem;
        }
        .question {
            font-size: 1rem;
            padding: 0px;
        }
        .clear-button{
            left: 0rem;
        }
        .last{
            top:-4rem ;
            right: -2rem ;
        }
        .opt , .footer  , .options-block , .grid-container , .grid-block , .grid-item{
            margin-left : 0;
        }
        .options-box .opt{
            width: 100%;
        }
        .options-box{
            margin-left: 20px;
        }
        .txtOnImage{
            position: absolute; 
            top: 45%; 
            left: 45%; 
            transform: translate(-50%, -50%); 
            color: white; 
            font-size: 1.25rem; 
            margin-left: -0.1rem;
            margin-top: -0.3rem;
            text-align: center;
            font-family: moto;
          }
        
        .headerImg{
            margin-top: -1rem;
            width: 20rem;
            height: 9rem;
          }
        .outerBorder2{
            top:0rem;
        }
    }

    @media only screen and (max-width: 600px) {

        .txtOnImage{
            position: absolute; 
            top: 45%; 
            left: 45%; 
            transform: translate(-50%, -50%); 
            color: white; 
            font-size: 1rem; 
            margin-left: 0.1rem;
            margin-top: 2rem;
            text-align: center;
            font-family: moto;
          }
        .headerImg{
            position: relative;
            top:2.5rem;
            width: 14.5rem;
            height: 7rem;
          }
        p {
            font-size: 17px;
            font-family: MonsOlympia;
        }

        .opt label {
            font-size: 17px;
            font-family: Montserrat;
        }

        .header h2 {
            font-size: 1.2rem;
            left: 30%;
            top: 11vh;
            font-family: MonsOlympia;
        }

        .box p {
            width: auto;
            color: #fff;
            font-size: 0.5rem;
            margin-bottom:0;
        }

        .last{
            position: absolute;
            top:-5.75rem;
            right: -0.75rem;
            font-size: 16px !important;
            font-size: 0.5rem !important;
        }

        .header .logo-img {
            position: absolute;
            width: 5rem;
            height: auto;
            top: 1rem;
            left: 1rem;
        }


    }

    @keyframes glowing {
        from {
          box-shadow: 0 0 1px #fff, 0 0 2px #fff, 0 0 3px #ffffff,
            0 0 4px rgba(0, 0, 0, 0), 0 0 5px #ffffff,
            0 0 6prgba (0, 0, 0, 0) F0, 0 0 7px #ffffff;
        }
    
        to {
          box-shadow: 0 0 2px #ffffff, 0 0 3px #ffffff, 0 0 4px #ffffff,
            0 0 5px #ffffff, 0 0 6px #ffffff, 0 0 7px #ffffff, 0 0 8px #ffffff;
        }
      }

    .grid-container {
        gap: 5px 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        grid-template-columns: auto auto auto;
        padding: 10px;
        flex-wrap: wrap;
        font-family : ethno;
    }

    .grid-item {
        text-align: center;
    }
</style>
<div class="container1 glowing-circle outerBorder">
    <div class="header">
        <div class="logo">
            <a href="{% url 'cit2020:navPage' %}"><img class="logo-img" src="{% static './Assets/\whiteIste.png'%}" alt="logo" /></a>
        </div>
        <div style="position: relative; text-align: center;">
            <img class="headerImg" src="{% static "./Assets/question.png" %}" alt="section">
            <div class="txtOnImage">Section</div>
        </div>
        <div class="box" id="demo-box">
            <p id="demo" class="time-left"></p>
        </div>
    </div>
    <div class="main outerBorder2">
        <div class="question">
            <div class="question-text outerBorder21"
                style="user-select:none;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-user-select:none;">
   
                <strong>Q {{question.Q_number}} :- </strong><br>
                {{ question.Question|safe }} <br> <br>
                {% if question.image %}

                <div class="image-section">
                    <img src="{{question.image.url}}" width="100%" />
                </div>

            {%endif%}
                <h4>Accuracy: {{question.accuracy}} %</h4>

            </div>

            
        </div>
        <form id="ans" method="post" action="/answer/">
        <div class="footer">
            {% csrf_token %}
            <div class="options-block">
                
                <div class="options-box">

                    <div class="opt outerBorder211">
                        <input type="radio" name="option" value="1" id="option1" />
                        <label for="option1" style="
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -o-user-select: none;
                        -user-select: none;
                        ">{{question.option1}}</label>
                    </div>
                    <div class="opt outerBorder211">
                        <input type="radio" name="option" value="2" id="option2" />
                        <label for="option2" style="
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -o-user-select: none;
                        -user-select: none;
                        ">{{question.option2}}</label>
                    </div>
                    <div class="opt outerBorder211">
                        <input type="radio" name="option" value="3" id="option3" />
                        <label for="option3" style="
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -o-user-select: none;
                        -user-select: none;
                        ">{{question.option3}}</label>
                    </div>
                <div class="opt outerBorder211">
                    <input type="radio" name="option" value="4" id="option4" />
                    <label for="option4" style="
                    user-select: none;
                    -webkit-user-select: none;
                    -moz-user-select: none;
                    -o-user-select: none;
                    -user-select: none;
                    ">{{question.option4}}</label>
                </div>
            </div>
                
                <div class="grid-container">
                    <div class="grid-item"><span style="display: none;"><input type="radio" name="option" id="option5"
                        value="0" /></span>
                        <input style="background-color: #0105056b; padding:0.5rem 2rem; border-radius: 0.5rem !important;" type="button" class="clear-button" value="Clear Choice"
                            onclick="document.getElementById('option5').checked = true;" />
                    </div>

                    <div class="last">
                        <span style="display: none;"><input type="radio" name="option"
                                    id="option5" value="0" /></span>
                                    <input style="background-color: #00236f !important; left: 0rem;" type="submit" class="clear-button" value="Next" />
                        

                    </div>
                </div>
            </form>
                <div class="clear">
                </div>
            </div>
        </div>
    </div>
</div>







<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
    crossorigin="anonymous"></script>
<script>
    // Set the date we're counting down to
    True = 1
    False = 0
    var countDownDate;
    if ({{player.qualified}}) {
        // Final slot date
        countDownDate = new Date("Jan 10 , 2024 14:00:00").getTime();
      }
      else if ({{player.slot}}==1) {
        // slot 1 date
        countDownDate = new Date("Jan 10 , 2024 12:15:00").getTime();
      } 
      else if ({{player.slot}}==2) {
        // slot 2 date 
        countDownDate = new Date("Jan 10 , 2024 12:45:00").getTime();
      } 
      else if ({{player.slot}}==3) {
        // slot 3 date 
        countDownDate = new Date("Jan 10 , 2024 13:15:00").getTime();
      } 
      else{
        // final slot date 
        countDownDate = new Date("Jan 10 , 2024 14:00:00").getTime();
      }


    // Update the count down every 1 second
    var x = setInterval(function () {

        // Get today's date and time
        var now = new Date().getTime();

        // Find the distance between now and the count down date
        var distance = countDownDate - now;

        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Display the result in the element with id="demo"
        document.getElementById("demo-box").style.visibility = "visible";
        document.getElementById("demo").innerHTML = "" + hours + "h "
            + minutes + "m " + seconds + "s ";

        // If the count down is finished, write some text
        if (distance < 0) {
            clearInterval(x);
            document.getElementById("demo").innerHTML = "TIME OVER";
            // window.location.replace("/lboard");
            document.getElementById("ans").submit();
            // window.location.reload();
        }
        else if (hours == 0 && minutes == 5 && seconds == 0) {
            alert("Quiz will auto-submit after 5 minutes");
        }
    }, 1000);
</script>

{%endblock%}